<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>5 Amigos</title>

    <link rel="stylesheet" href="styles.css"/>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-2.2.4.js" integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="row">
            <h1>5 Amigos</h1>
        </div>
        <div class="row">
            <div class="col" ><p class="active" id="chef">Chef</p></div>
            <div class="col" ><p class="active" id="manager">Manager</p></div>
            <div class="col"><p class="active" id="waiter">Waiter</p></div>
            <div class="col"><p class="active" id="item">Order</p></div>
            <div class="col"><p class="active" id="bill">Bill</p></div>
        </div>
        <div class="row menu-card">
            <div class="col-sm-3"></div>
            <div class="col-sm-6 menu">
                <form id="form1" class="active">
                    Chef :<br>
                    <input id="chefname" type="text" name="name"><br>
                    Id no. :<br>
                    <input id="chefid" type="text" name="id"><br><br>
                    <button name="data" type="button" id="button1">Submit</button>
                    <button type="button" id="showtable1">Show Table</button>
                    <button type="button" id="search1">search</button>
                    <button type="button" id="update1">Update</button>
                </form>
                <form id="form2" class="active">
                    Manager :<br>
                    <input id="managername" type="text" name="name"><br>
                    Id no. :<br>
                    <input id="managerid" type="text" name="id"><br>
                    Contact no. :<br>
                    <input id="managercontact" type="text" name="id"><br><br>
                    <button name="data" type="button" id="button2">Submit</button>
                    <button type="button" id="showtable2">Show Table</button>
                    <button type="button" id="search2">search</button>
                    <button type="button" id="update2">Update</button>
                </form>
                <form id="form3" class="active">
                    Waiter :<br>
                    <input id="waitername" type="text" name="name"><br>
                    Id no. :<br>
                    <input id="waiterid" type="text" name="Id"><br><br>
                    <button name="data" type="button" id="button3">Submit</button>
                    <button type="button" id="showtable3">Show Table</button>
                    <button type="button" id="search3">search</button>
                    <button type="button" id="update3">Update</button>
                </form>
                <form id="form4" class="active">
                    Order no. :<br>
                    <input id="order" type="text" name="name"><br>
                    Number of items :<br>
                    <input id="orderitems" type="text" name="name"><br><br>
                    <button name="data" type="button" id="button4">Submit</button>
                    <button type="button" id="showtable4">Show Table</button>
                    <button type="button" id="search4">search</button>
                    <button type="button" id="update4">Update</button>
                </form>
                <form id="form5" class="active">
                    Bill no. :<br>
                    <input id="bill-no" type="text" name="name"><br>
                    Price :<br>
                    <input id="price" type="text" name="name"><br>
                    Customer :<br>
                    <input id="customer" type="text" name="name"><br><br>
                    <button name="data" type="button" id="button5">Submit</button>
                    <button type="button" id="showtable5">Show Table</button>
                    <button type="button" id="search5">search</button>
                    <button type="button" id="update5">Update</button>
                </form>
            </div>
            <div class="col-sm-3"></div>                                                                                                                                      
        </div>
    </div>
    <script>
        let list=[["chef",1],["manager",0],["waiter",0],["item",0],["bill",0]];
        require('./index');

        const { remote } = require('electron')
        const mysql = require('mysql');

         var connection = mysql.createConnection({
           host:'localhost',
           user:'root',
            password:'12345678',
            database:'amigos'
            });

        connection.connect(function(err){
        if(err) throw err;
        console.log('connected');
        })

    document.getElementById("button1").addEventListener('click',function(){
        
        let sql = "Insert into chef (chef_name,Id_no) VALUES ('"+document.getElementById("chefname").value+"','"+document.getElementById('chefid').value+"')";
        connection.query(sql,function(err,result){
            if(err) throw err;
        })
        document.getElementById("chefname").value = "";
        document.getElementById('chefid').value = "";
    })

    document.getElementById("showtable1").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })
        win1.loadFile('table.html')
    })

    document.getElementById("search1").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })   
        let search_value = document.getElementById('chefid').value;
        let alter_value  = document.getElementById('chefname').value;
        win1.loadFile('chefs.html')
        win1.webContents.on('did-finish-load',()=>{
            win1.webContents.send('value',search_value)
        })
    })

    document.getElementById("update1").addEventListener('click',function(){
            let sql = "update chef set chef_name = '" + document.getElementById('chefname').value + "' where Id_no=" + document.getElementById('chefid').value;
            connection.query(sql,function(err,result){
            if(err) throw err;
            })
            document.getElementById('chefid').value = "";
            document.getElementById("chefname").value = "";
         })

    document.getElementById("button2").addEventListener('click',function(){
        
        let sql = "Insert into manager (manager_name,Id_no,contact_no) VALUES ('"+document.getElementById("managername").value+"','"+document.getElementById('managerid').value+"','"+document.getElementById('managercontact').value+"')";
        connection.query(sql,function(err,result){
            if(err) throw err;
        })
        document.getElementById("managername").value = "";
        document.getElementById('managerid').value = "";
        document.getElementById('managercontact').value="";
    })

    document.getElementById("showtable2").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })
        win1.loadFile('manager.html')
    })

    document.getElementById("search2").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })   
        let search_value = document.getElementById('managerid').value;
        win1.loadFile('managers.html')
        win1.webContents.on('did-finish-load',()=>{
            win1.webContents.send('value',search_value)
        })
    })

    document.getElementById("update2").addEventListener('click',function(){
            let sql = "update manager set manager_name = '" + document.getElementById('managername').value +"',contact_no=" + document.getElementById('managercontact').value+" where Id_no=" + document.getElementById('managerid').value;
            connection.query(sql,function(err,result){
            if(err) throw err;
            })
            document.getElementById("managername").value = "";
            document.getElementById('managerid').value = "";
            document.getElementById('managercontact').value="";
         })

    document.getElementById("button3").addEventListener('click',function(){
        
        let sql = "Insert into waiter (waiter_name,Id_no) VALUES ('"+document.getElementById("waitername").value+"','"+document.getElementById('waiterid').value+"')";
        connection.query(sql,function(err,result){
            if(err) throw err;
        })
        document.getElementById("waitername").value="";
        document.getElementById('waiterid').value="";
    })

    document.getElementById("showtable3").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })
        win1.loadFile('waiter.html')
    })

    document.getElementById("search3").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })   
        let search_value = document.getElementById('waiterid').value;
        win1.loadFile('waiters.html')
        win1.webContents.on('did-finish-load',()=>{
            win1.webContents.send('value',search_value)
        })
    })

    document.getElementById("update3").addEventListener('click',function(){
            let sql = "update waiter set waiter_name = '" + document.getElementById('waitername').value +"' where Id_no=" + document.getElementById('waiterid').value;
            connection.query(sql,function(err,result){
            if(err) throw err;
            })
            document.getElementById("waitername").value="";
            document.getElementById('waiterid').value="";
         })

    document.getElementById("button4").addEventListener('click',function(){
        
        let sql = "Insert into orders (order_no,number_of_items) VALUES ('"+document.getElementById("order").value+"','"+document.getElementById('orderitems').value+"')";
        connection.query(sql,function(err,result){
            if(err) throw err;
        })
        document.getElementById("order").value="";
        document.getElementById('orderitems').value="";
    })

    document.getElementById("showtable4").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })
        win1.loadFile('order.html')
    })

    document.getElementById("search4").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })   
        let search_value = document.getElementById('order').value;
        win1.loadFile('orders.html')
        win1.webContents.on('did-finish-load',()=>{
            win1.webContents.send('value',search_value)
        })
    })

    document.getElementById("update4").addEventListener('click',function(){
            let sql = "update orders set number_of_items = " + document.getElementById('orderitems').value +" where order_no=" + document.getElementById('order').value;
            connection.query(sql,function(err,result){
            if(err) throw err;
            })
            document.getElementById("order").value="";
            document.getElementById('orderitems').value="";
         })

    document.getElementById("button5").addEventListener('click',function(){
        
        let sql = "Insert into bill (bill_no,price,customer) VALUES ('"+document.getElementById("bill-no").value+"','"+document.getElementById('price').value+"','"+document.getElementById('customer').value+"')";
        connection.query(sql,function(err,result){
            if(err) throw err;
        })
        document.getElementById("bill-no").value="";
        document.getElementById('price').value="";
        document.getElementById('customer').value="";
    })

    document.getElementById("showtable5").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })
        win1.loadFile('bill.html')
    })

    document.getElementById("search5").addEventListener('click',function(){
        let win1 = new remote.BrowserWindow({
            parent: remote.getCurrentWindow(),
            modal: true
        })   
        let search_value = document.getElementById('bill-no').value;
        win1.loadFile('bills.html')
        win1.webContents.on('did-finish-load',()=>{
            win1.webContents.send('value',search_value)
        })
    })
    document.getElementById("update5").addEventListener('click',function(){
            let sql = "update bill set customer = '" + document.getElementById('customer').value +"',price=" + document.getElementById('price').value+" where bill_no=" + document.getElementById('bill-no').value;
            connection.query(sql,function(err,result){
            if(err) throw err;
            })
            document.getElementById("bill-no").value="";
            document.getElementById('price').value="";
            document.getElementById('customer').value="";
         })
    </script>
    <script src="click.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>